<MailScreen>:

    id: screen_M

    MDCard:
        md_bg_color: 0, 153/250, 1, 255/250
        orientation: "vertical"
        radius: [20]
        size_hint: (.9, .35)
        pos_hint: {"center_x": .5, "center_y": .8}
        Label:
            text: "     Unread mails:"
            color: 0,0,0
            bold: True
            size_hint: (0.5,0.5)
            text_size: self.size
            halign: "left"
            valign: "center"
        MDScrollView:
            MDList:
                spacing: 10
                ThreeLineListItem:
                    text: "[b]Withdrawal of items from sale[/b]"
                    secondary_text: "From: [i]marko.markic@perfectstore.com[/i]"
                    tertiary_text: "Please, withdraw the cans of Fanta (sn: 123456)"
                ThreeLineListItem:
                    text: "[b]Order form[/b]"
                    secondary_text: "From: [i]ana.anaic1@philipmorris.hr[/i]"
                    tertiary_text: "Please fill out the order form from the attachment"
                ThreeLineListItem:
                    text: "[b]Presentation of the article[/b]"
                    secondary_text: "From: [i]ivan.ivic356@gmail.com[/i]"
                    tertiary_text: "Are you interested in displaying our products in your store?"
                ThreeLineListItem:
                    text: "[b]Payroll[/b]"
                    secondary_text: "From: [i]karla.karlic7@office_perfectstore.com[/i]"
                    tertiary_text: "Payroll of the branch office for the past fiscal year"
        
    MDCard:
        md_bg_color: 0, 153/250, 1, 255/250
        orientation: "vertical"
        radius: [20]
        size_hint: (.9, .35)
        pos_hint: {"center_x": .5, "center_y": .4}

        Label:
            text: "     Read mails:"
            color: 0,0,0
            bold: True
            size_hint: (0.5,0.5)
            text_size: self.size
            halign: "left"
            valign: "center"

        MDScrollView:

            MDList:
                id: MailList
                spacing: 10
                ThreeLineListItem:
                    text: "[b]Manager of the month[/b]"
                    secondary_text: "From: [i]mate.matic@office_perfectstore.com[/i]"
                    tertiary_text: "Congratulations, you won the [i]Manager of the Month[/i] award"
                ThreeLineListItem:
                    text: "[b]Sick leave[/b]"
                    secondary_text: "From: [i]jelena.jelic08@gmail.com[/i]"
                    tertiary_text: "Hello boss, I got sick, so I will open a sick leave for a period of one week"
                ThreeLineListItem:
                    text: "[b]Complaint[/b]"
                    secondary_text: "From: [i]ivo.ivic91@gmail.com[/i]"
                    tertiary_text: "I want to lodge a complaint about the behavior of your employees"
                ThreeLineListItem:
                    text: "[b]Payroll[/b]"
                    secondary_text: "From: [i]ana.anic@office_perfectstore.com[/i]"
                    tertiary_text: "The email contains the salary list for the 12th month of 2022"

    MDRectangleFlatIconButton:
        id: BackButton
        icon: "arrow-left"
        text: '[b]Back[/b]'
        markup: True
        font_size: 32
        md_bg_color: 0, 153/250, 1, 255/250
        theme_text_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "white"
        text_color: "black"
        elevation: 2
        pos_hint: {'center_x': 0.2,'center_y': 0.1}
        on_release: root.manager.current = 'main'

<PhonebookScreen>:

    id: screen_P

    MDCard:
        md_bg_color: 0, 153/250, 1, 255/250
        radius: [10]
        size_hint: .9, .75
        orientation: "vertical"
        pos_hint: {'center_x': 0.5,'center_y': 0.6}
        elevation: 3

        MDBoxLayout:
            orientation: "vertical"
            padding: 50

            MDLabel:
                text: "List:"
                text_color: 0,0,0
                font_size: 45
                bold: True
                size_hint: None, None
                pos_hint: {'center_x': 0.1,'center_y': 0.7}

            MDScrollView:
                id: PhoneBookScrollView
                do_scroll_x: False
                do_scroll_y: True
                MDList:
                    id: PhoneBookNumbers
                    spacing: 10

    MDRaisedButton:
        id: AddPersonButton
        markup: True
        text: "[b]Add Person[/b]"
        text_color: 0,0,0
        text_size: 35
        halign: "left"
        valign: "center"
        pos_hint: {'center_x': 0.77,'center_y': 0.18}
        on_release: root.add_card()

    MDRaisedButton:
        id: DeletePersonButton
        markup: True
        text: "[b]Delete Person[/b]"
        text_color: 0,0,0
        text_size: 35
        halign: "left"
        valign: "center"
        pos_hint: {'center_x': 0.77,'center_y': 0.1}
        on_release: root.deleteItem()

    MDRectangleFlatIconButton:
        id: BackButton
        icon: "arrow-left"
        text: '[b]Back[/b]'
        markup: True
        font_size: 32
        md_bg_color: 0, 153/250, 1, 255/250
        theme_text_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "white"
        text_color: "black"
        elevation: 3
        pos_hint: {'center_x': 0.2,'center_y': 0.1}
        on_release: root.manager.current = 'main'

<SettingsScreen>:

    id: screen_S

    MDLabel:
        id: ThemeLabel
        markup: True
        text: '[b][color=000000]THEME[/color][/b]'
        font_size: 50
        pos_hint: {'center_x': 0.6,'center_y': 0.8}

    MDRaisedButton:
        id: DarkButton
        markup: True
        text: "[b]DARK[/b]"
        font_size: sp(40)
        pos_hint: {'center_x': 0.5,'center_y': 0.6}
        elevation: 3
        on_release: app.ChangeTheme("DARK"); root.ChangeText("DARK")
    
    MDRaisedButton:
        id: LightButton
        markup: True
        text: "[b]LIGHT[/b]"
        font_size: sp(40)
        pos_hint: {'center_x': 0.5,'center_y': 0.47}
        elevation: 3
        on_release: app.ChangeTheme("LIGHT"); root.ChangeText("LIGHT")

    MDRectangleFlatIconButton:
        id: BackButton
        icon: "arrow-left"
        text: '[b]Back[/b]'
        markup: True
        font_size: 32
        md_bg_color: 0, 153/250, 1, 255/250
        theme_text_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "white"
        text_color: "black"
        elevation: 2
        pos_hint: {'center_x': 0.2,'center_y': 0.1}
        on_release: root.manager.current = 'main'

<MainScreen>:

    id: screen1

    MDBottomNavigation:
        id: Navigator
        transition_duration: 0.0

        MDBottomNavigationItem:
            name: "Main"
            text: 'Main'
            icon: 'home'

            Label:
                id: mainTitle
                text: '[b][color=000000][size=80]P[/size][size=75]erfect[/size][/color][i][color=0099FF][size=80]S[/size][size=75]tore[/size][/color][/i][/b]'
                markup: True
                size_hint: 0.1, 0.1
                pos_hint: {'center_x': 0.5,'center_y': 0.9}

            MDLabel: 
                id: HelloText
                text: '[b][size=35][color=0099FF]Hello[/color][color=000000]\nWe are hoping that you[/color] [color=0099FF]have a great day[/color][/size][/b]'
                markup: True
                halign: "center"
                valign: "center"
                size_hint: (0.5,0.5)
                pos_hint: {"center_x": 0.5, "center_y": 0.7}
                elevetion: 0

            MDCard:
                md_bg_color: 0, 153/250, 1, 255/250
                orientation: "vertical"
                radius: [15]
                size_hint: (.7, .45) #.55
                pos_hint: {"center_x": .3, "center_y": .2} #.3,.2

                MDFloatLayout:

                    MDCard:
                        md_bg_color: 1,1,1,1
                        orientation: "horizontal"
                        radius: [10]
                        size_hint: (.5, .15)
                        pos_hint: {"center_x": .35, "center_y": .9}
                        elevation: 3

                        FloatLayout:
                            MDLabel:
                                id: NewsLabel
                                text: "NEWS"
                                color: 0,0,0
                                bold: True
                                italic: True
                                font_size: sp(33)
                                text_size: self.size
                                pos_hint: {"center_x": .64, "center_y": .58}

                    MDScrollView:
                        id: NewsScrollView
                        do_scroll_x: False
                        do_scroll_y: True
                        size_hint_y: ".4sp"
                        size_hint_x: ".5sp"
                        bar_color: 0, 153/250, 1, 255/250
                        bar_inactive_color: 0, 153/250, 1, 255/250
                        pos_hint: {'center_x': .52,'center_y': .34}

                        MDBoxLayout:
                            orientation: 'vertical'
                            size_hint_y: None
                            height: "550sp"
                            padding: "15sp"
                            spacing: "12sp"
                            
                            MDList:
                                spacing: "40sp"

                                TwoLineRightIconListItem:
                                    on_release: app.NewsInfo("Lemon")
                                    text: "[b]Lemon price today[/b]"
                                    secondary_text: "Today the prices of lemons skyroketed"
                                    ImageRightWidget:
                                        source: "images/index.jpg"

                                TwoLineRightIconListItem:
                                    on_release: app.NewsInfo("Fanta")
                                    text: "[b]Fanta cans withdrawn from sale[/b]"
                                    secondary_text: "Larger amounts of ethylene oxide are found in cans of Fanta in stores"
                                    ImageRightWidget:
                                        source: "images/001603604.webp"

                                TwoLineRightIconListItem:
                                    on_release: app.NewsInfo("Goods")
                                    text: "[b]Customs duty reduction[/b]"
                                    secondary_text: "The government has reduced customs duties on goods from the UK"
                                    ImageRightWidget:
                                        source: "images/istockphoto-1034405652-612x612.jpg"

                                TwoLineRightIconListItem:
                                    on_release: app.NewsInfo("Banknotes")
                                    text: "[b]Problems with the euro[/b]"
                                    secondary_text: "Many shops ran out of euro banknotes due to careless customers"
                                    ImageRightWidget:
                                        source: "images/euro.png"

                                TwoLineRightIconListItem:
                                    on_release: app.NewsInfo("Prices")
                                    text: "[b]Prohibition of price increases[/b]"
                                    secondary_text: "The government has banned raising the prices of bread, milk and meat"
                                    ImageRightWidget:
                                        source: "images/o_420342_1024.jpg"

            MDFloatLayout:
            
                MDFloatingActionButton:
                    id: PhoneBookButton
                    icon: "book-account"
                    size: (.2, .2)
                    pos_hint: {'center_x': .85, 'center_y': .35}
                    on_release: app.callback("P")
                    elevation: 3

                MDFloatingActionButton:
                    id: MailButton
                    icon: "email-outline"
                    size: (.2, .2)
                    pos_hint: {'center_x': .85, 'center_y': .22}
                    on_release: app.callback("M")
                    elevation: 3

                MDFloatingActionButton:
                    id: SettingsButton
                    icon: "cog-outline"
                    size: (.2, .2)
                    pos_hint: {'center_x': .85, 'center_y': .09}
                    on_release: app.callback("S")
                    elevation: 3

            #BoxLayout:
            #    id: FadeBackground
            #    size_hint: "1sp", "1sp"

            #    canvas:
            #        Color:
            #            rgba: 1,1,1,0
            #        Rectangle:
            #            pos: self.pos
            #            size: self.size

        MDBottomNavigationItem:
            name: "Bills"
            text: 'Bills'
            icon: 'credit-card-outline'
            padding: 10

            MDCard:
                md_bg_color: 0, 153/250, 1, 255/250
                orientation: "vertical"
                radius: [20]
                size_hint: .9, .8
                pos_hint: {'center_x': 0.5,'center_y': 0.7}
                elevation: 3
                padding: 30

                MDFloatLayout:

                    MDScrollView:
                        id: BillScrollView
                        do_scroll_x: False
                        do_scroll_y: True
                        size_hint_y: 1
                        pos_hint: {'center_x': 0.5,'center_y': 0.4}
                        size_hint: 1, .8

                        MDLabel:
                            id: BillContent
                            markup: True
                            text: '[b]This is where the bills are shown[/b]'
                            font_size: 35
                            text_size: self.width, None
                            size_hint_y: None
                            height: self.texture_size[1]

            MDGridLayout:
                cols: 3
                rows: 2
                padding: 15
                spacing: 5
                adaptive_height: True
                orientation: 'lr-tb'

                # lr-tb, tb-lr, rl-tb, tb-rl, lr-bt, bt-lr, rl-bt, bt-rl

                MDRaisedButton:
                    id: SelectItem
                    markup: True
                    text: "[b]Select[/b]"
                    size_hint: None, None
                    font_size: 30
                    elevation: 2
                    on_release: app.DropDownMenuForDisplaying()
    
                MDRaisedButton:
                    id: printAll
                    markup: True
                    text: "[b]Print All[/b]"
                    size: .2, .2
                    font_size: 30
                    elevation: 2
                    on_release: app.LoadBills()
    
                MDRaisedButton:
                    id: Clearcard
                    markup: True
                    text: "[b]Clear[/b]"
                    size: .2, .2
                    font_size: 30
                    elevation: 2
                    on_release: root.ids.BillContent.text = '[b]This is where the bills are shown[/b]'

                MDRaisedButton:
                    id: CreateBill
                    markup: True
                    text: "[b]Create Bill[/b]"
                    size: .2, .2
                    font_size: 30
                    elevation: 2
                    on_release: app.CreateBillPopUp()

                MDRaisedButton:
                    id: DeleteItem
                    markup: True
                    text: "[b]Delete Bill[/b]"
                    size: .2, .2
                    font_size: 30
                    elevation: 2
                    on_release: app.DropDownMenuForDeleting()

        MDBottomNavigationItem:
            name: "Amount"
            text: 'Amount Sold'
            icon: 'cash-multiple'
            

            MDScrollView:
                do_scroll_x: False
                do_scroll_y: True
                size_hint_y: 1
                bar_color: 1,1,1,1
                bar_inactive_color: 1,1,1,1

                MDBoxLayout:
                    id: mainLayout
                    orientation: "vertical"
                    size_hint_y: None
                    height: "800sp"
                    padding: "50sp"
                    spacing: "20sp"

                    MDCard:
                        orientation: "vertical"
                        size_hint: None, None
                        size: "300sp", "100sp"
                        md_bg_color: 0, 153/250, 1, 255/250
                        radius: [15]
                        pos_hint: {'center_x': .5,'center_y': .9}
                        padding: "10sp"

                        MDLabel:
                            id: TotalProfit
                            text: ""
                            bold: True
                            color: "#000000"
                            text_size: 1, 1
                            font_size: sp(25)
                            pos_hint: {'center_x': 0.53,'center_y': 0.9}

                    MDCard:
                        orientation: "vertical"
                        size_hint: None, None
                        size: "250sp", "120sp"
                        md_bg_color: 0, 153/250, 1, 255/250
                        radius: [15]
                        pos_hint: {'center_x': .5,'center_y': .6}
                        padding: "20sp"

                        MDBoxLayout:
                            orientation: "vertical"
                            spacing: "15sp"

                            MDLabel:
                                id: item
                                text: "Item: None"
                                text_size: .5, .5
                                font_size: sp(16)
                                bold: True

                            MDLabel:
                                id: amount
                                text: "Amount Sold: None"
                                text_size: .5, .5
                                font_size: sp(16)
                                bold: True

                            MDLabel:
                                id: price
                                text: "Price: None"
                                text_size: .5, .5
                                font_size: sp(16)
                                bold: True

                            MDLabel:
                                id: storage
                                text: "In Storage: None"
                                text_size: .5, .5
                                font_size: sp(16)
                                bold: True

                    MDRaisedButton:
                        id: ChooseItem
                        markup: True
                        text: "[b]Choose Item[/b]"
                        font_size: sp(25)
                        pos_hint: {'center_x': 0.5,'center_y': 0.3}
                        on_release: app.DisplayItem() 
                        elevation: 0

                    MDCard:
                        id: itemsTable
                        orientation: 'vertical' 
                        size_hint: None, None
                        size: "300sp", "390sp"
                        md_bg_color: 0, 153/250, 1, 255/250
                        radius: [15]
                        pos_hint: {'center_x': .5,'center_y': .5}
                        padding: "20sp"

                        MDScrollView:
                            id: scrollview
                            do_scroll_x: False
                            do_scroll_y: True
                            size_hint_y: 1
                            bar_color: 0, 153/250, 1, 255/250
                            bar_inactive_color: 0, 153/250, 1, 255/250

                            MDBoxLayout:
                                id: itemsTableLayout
                                orientation: 'vertical'
                                size_hint_y: None
                                height: 500
                                padding: "18sp"
                                spacing: "13sp"

                        MDBoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: None
                            padding: "15sp"
    
                            MDLabel:
                                text: "    Item"
                                font_size: sp(15)
                                bold: True
    
                            MDLabel:
                                text: "    Price"
                                font_size: sp(15)
                                bold: True
    
                            MDLabel:
                                text: "    In Stock"
                                font_size: sp(15)
                                bold: True


        MDBottomNavigationItem:
            name: "Tasks"
            text: 'Tasks'
            icon: 'clipboard-list'

            MDFloatLayout:

                MDLabel:
                    id: tasksLabel
                    markup: True
                    text: '[b]My Tasks:[/b]'
                    font_size: sp(60)
                    pos_hint: {'center_x': 0.55,'center_y': 0.9}

                MDSwiper:
                    id: TaskSwiper
                    size_hint_y: None
                    height: root.height - dp(350)
                    width_mult: 4
                    size_duration: 0.35
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}

                MDFloatingActionButton:
                    id: plusButton
                    icon: 'plus'
                    pos_hint: {'center_x': 0.87,'center_y': 0.067}
                    on_press: app.AddSwiperItem()

<FadeCard>:
    id: FadedCardLayout
    
    MDBoxLayout:
        id: FadeBackground
        size_hint: "1sp", "1sp"

        canvas:
            Color:
                rgba: 1,1,1,.5
            Rectangle:
                pos: self.pos
                size: self.size
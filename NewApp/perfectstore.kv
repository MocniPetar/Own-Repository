<StoreLocationScreen>:

    id: screen_SL

    MapView:
        lat: 43.5147
        lon: 16.4435
        zoom: 10
        MapMarkerPopup:
            lat: 43.511516621926 
            lon: 16.469018155855977
            Label:
                text: "Store name: FESB\nAddress: Ruđera Boškovića 32\nNumber: 123 - 456"
                font_size: 18
                color: 0,0,0,1 
                bold: True

    MDRectangleFlatIconButton:
        id: BackButton
        icon: "arrow-left"
        text: '[b]Back[/b]'
        markup: True
        font_size: 32
        md_bg_color: 0, 153/250, 1, 255/250
        theme_text_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "white"
        text_color: "black"
        pos_hint: {'center_x': 0.2,'center_y': 0.1}
        on_release: root.manager.current = 'main'

<MailScreen>:

    id: screen_M

    MDCard:
        md_bg_color: 0, 153/250, 1, 255/250
        orientation: "vertical"
        radius: [20]
        size_hint: (.9, .35)
        pos_hint: {"center_x": .5, "center_y": .8}
        Label:
            text: "     Unread mails:"
            color: 0,0,0
            bold: True
            size_hint: (0.5,0.5)
            text_size: self.size
            halign: "left"
            valign: "center"
        MDScrollView:
            MDList:
                spacing: 10
                ThreeLineListItem:
                    text: "[b]Withdrawal of items from sale[/b]"
                    secondary_text: "From: [i]marko.markic@perfectstore.com[/i]"
                    tertiary_text: "Please, withdraw the cans of Fanta (sn: 123456)"
                ThreeLineListItem:
                    text: "[b]Order form[/b]"
                    secondary_text: "From: [i]ana.anaic1@philipmorris.hr[/i]"
                    tertiary_text: "Please fill out the order form from the attachment"
                ThreeLineListItem:
                    text: "[b]Presentation of the article[/b]"
                    secondary_text: "From: [i]ivan.ivic356@gmail.com[/i]"
                    tertiary_text: "Are you interested in displaying our products in your store?"
                ThreeLineListItem:
                    text: "[b]Payroll[/b]"
                    secondary_text: "From: [i]karla.karlic7@office_perfectstore.com[/i]"
                    tertiary_text: "Payroll of the branch office for the past fiscal year"
        
    MDCard:
        md_bg_color: 0, 153/250, 1, 255/250
        orientation: "vertical"
        radius: [20]
        size_hint: (.9, .35)
        pos_hint: {"center_x": .5, "center_y": .4}

        Label:
            text: "     Read mails:"
            color: 0,0,0
            bold: True
            size_hint: (0.5,0.5)
            text_size: self.size
            halign: "left"
            valign: "center"

        MDScrollView:

            MDList:
                id: MailList
                spacing: 10
                ThreeLineListItem:
                    text: "[b]Manager of the month[/b]"
                    secondary_text: "From: [i]mate.matic@office_perfectstore.com[/i]"
                    tertiary_text: "Congratulations, you won the [i]Manager of the Month[/i] award"
                ThreeLineListItem:
                    text: "[b]Sick leave[/b]"
                    secondary_text: "From: [i]jelena.jelic08@gmail.com[/i]"
                    tertiary_text: "Hello boss, I got sick, so I will open a sick leave for a period of one week"
                ThreeLineListItem:
                    text: "[b]Complaint[/b]"
                    secondary_text: "From: [i]ivo.ivic91@gmail.com[/i]"
                    tertiary_text: "I want to lodge a complaint about the behavior of your employees"
                ThreeLineListItem:
                    text: "[b]Payroll[/b]"
                    secondary_text: "From: [i]ana.anic@office_perfectstore.com[/i]"
                    tertiary_text: "The email contains the salary list for the 12th month of 2022"

    MDRectangleFlatIconButton:
        id: BackButton
        icon: "arrow-left"
        text: '[b]Back[/b]'
        markup: True
        font_size: 32
        md_bg_color: 0, 153/250, 1, 255/250
        theme_text_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "white"
        text_color: "black"
        elevation: 2
        pos_hint: {'center_x': 0.2,'center_y': 0.1}
        on_release: root.manager.current = 'main'

<PhonebookScreen>:

    id: screen_P

    MDCard:
        md_bg_color: 0, 153/250, 1, 255/250
        radius: [25]
        size_hint: .9, .75
        orientation: "vertical"
        pos_hint: {'center_x': 0.5,'center_y': 0.6}
        MDBoxLayout:
            orientation: "vertical"
            padding: 50

            MDLabel:
                text: "List:"
                text_color: 0,0,0
                font_size: 45
                bold: True
                size_hint: None, None
                pos_hint: {'center_x': 0.1,'center_y': 0.7}

            MDScrollView:
                do_scroll_x: False
                do_scroll_y: True
                MDList:
                    id: PhoneBookNumbers
                    spacing: 10

    MDRaisedButton:
        markup: True
        text: "[b]Add Person[/b]"
        text_color: 0,0,0
        text_size: 35
        halign: "left"
        valign: "center"
        pos_hint: {'center_x': 0.77,'center_y': 0.18}
        on_release: root.add_card()

    MDRaisedButton:
        markup: True
        text: "[b]Delete Person[/b]"
        text_color: 0,0,0
        text_size: 35
        halign: "left"
        valign: "center"
        pos_hint: {'center_x': 0.77,'center_y': 0.1}
        on_release: root.deleteItem()

    MDRectangleFlatIconButton:
        id: BackButton
        icon: "arrow-left"
        text: '[b]Back[/b]'
        markup: True
        font_size: 32
        md_bg_color: 0, 153/250, 1, 255/250
        theme_text_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "white"
        text_color: "black"
        elevation: 2
        pos_hint: {'center_x': 0.2,'center_y': 0.1}
        on_release: root.manager.current = 'main'

<SettingsScreen>:

    id: screen_S

    MDLabel:
        id: ThemeLabel
        markup: True
        text: '[b][color=000000]THEME[/color][/b]'
        font_size: 50
        pos_hint: {'center_x': 0.6,'center_y': 0.8}

    MDRaisedButton:
        id: DarkButton
        markup: True
        text: "[b]DARK[/b]"
        font_size: 45
        pos_hint: {'center_x': 0.5,'center_y': 0.6}
        on_release: app.ChangeTheme("DARK"); root.ChangeText("DARK")
    
    MDRaisedButton:
        id: LightButton
        markup: True
        text: "[b]LIGHT[/b]"
        font_size: 45
        pos_hint: {'center_x': 0.5,'center_y': 0.5}
        on_release: app.ChangeTheme("LIGHT"); root.ChangeText("LIGHT")

    MDRectangleFlatIconButton:
        id: BackButton
        icon: "arrow-left"
        text: '[b]Back[/b]'
        markup: True
        font_size: 32
        md_bg_color: 0, 153/250, 1, 255/250
        theme_text_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "white"
        text_color: "black"
        elevation: 2
        pos_hint: {'center_x': 0.2,'center_y': 0.1}
        on_release: root.manager.current = 'main'

<MainScreen>:

    id: screen1

    MDBottomNavigation:
        id: Navigator
        transition_duration: 0.2

        MDBottomNavigationItem:
            name: "Main"
            text: 'Main'
            icon: 'home'

            Label:
                id: mainTitle
                text: '[b][color=000000][size=80]P[/size][size=75]erfect[/size][/color][i][color=0099FF][size=80]S[/size][size=75]tore[/size][/color][/i][/b]'
                markup: True
                size_hint: 0.1, 0.1
                pos_hint: {'center_x': 0.5,'center_y': 0.9}

            MDLabel: 
                id: HelloText
                text: '[b][size=25][color=0099FF]Hello[/color][color=000000]\nWe are hoping that you[/color] [color=0099FF]have a great day[/color][/size][/b]'
                markup: True
                halign: "center"
                valign: "center"
                size_hint: (0.5,0.5)
                pos_hint: {"center_x": 0.5, "center_y": 0.7}
                elevetion: 0

            MDCard:
                md_bg_color: 0, 153/250, 1, 200/250
                orientation: "vertical"
                radius: [15]
                size_hint: (.8, .7)
                pos_hint: {"center_x": 0.3, "center_y": .2}

                FloatLayout:

                    MDCard:
                        md_bg_color: 1,1,1,1
                        orientation: "horizontal"
                        radius: [10]
                        size_hint: (.42, .1)
                        pos_hint: {"center_x": 0.3, "center_y": 0.9}

                        FloatLayout:
                            MDLabel:
                                text: "NEWS"
                                color: 0,0,0
                                bold: True
                                italic: True
                                font_size: 30
                                text_size: self.size
                                pos_hint: {"center_x": .75, "center_y": .6}

                    MDScrollView:
                        do_scroll_x: False
                        do_scroll_y: True
                        size_hint_y: 0.8
                        size_hint_x: 0.9
                        pos_hint: {'center_x': 0.55,'center_y': 0.4}
                        MDList:
                            spacing: 10
                            TwoLineRightIconListItem:
                                text: "[b]Lemon price today[/b]"
                                secondary_text: "Today the prices of lemons skyroketed"
                                ImageRightWidget:
                                    source: "images/index.jpg"
                            TwoLineRightIconListItem:
                                text: "[b]Fanta cans withdrawn from sale[/b]"
                                secondary_text: "Larger amounts of ethylene oxide are found in cans of Fanta in stores"
                                ImageRightWidget:
                                    source: "images/001603604.webp"
                            TwoLineRightIconListItem:
                                text: "[b]Customs duty reduction[/b]"
                                secondary_text: "The government has reduced customs duties on goods from the UK"
                                ImageRightWidget:
                                    source: "images/istockphoto-1034405652-612x612.jpg"
                            TwoLineRightIconListItem:
                                text: "[b]Problems with the euro[/b]"
                                secondary_text: "Many shops ran out of euro banknotes due to careless customers"
                                ImageRightWidget:
                                    source: "images/euro.png"
                            TwoLineRightIconListItem:
                                text: "[b]Prohibition of price increases[/b]"
                                secondary_text: "The government has banned raising the prices of bread, milk and meat"
                                ImageRightWidget:
                                    source: "images/o_420342_1024.jpg"
                            TwoLineListItem:
                                text: ""
                                secondary_text: ""

            MDFloatingActionButtonSpeedDial:
                id: speedDial
                label_text_color: "black"
                label_bg_color: 0, 153/250, 1, 225/250
                label_radius: [15]
                icon: "dots-horizontal"
                data: app.data
                root_button_anim: True
                bg_hint_color: "white"

        MDBottomNavigationItem:
            name: "Bills"
            text: 'Bills'
            icon: 'credit-card-outline'

            MDCard:
                md_bg_color: 0, 153/250, 1, 255/250
                orientation: "vertical"
                radius: [25]
                size_hint: .7, .6
                pos_hint: {'center_x': 0.5,'center_y': 0.6}
                padding: 30

                FloatLayout:
                    MDScrollView:
                        do_scroll_x: False
                        do_scroll_y: True
                        size_hint_y: 1
                        pos_hint: {'center_x': 0.5,'center_y': 0.5}
                        MDLabel:
                            id: BillContent
                            markup: True
                            text: '[b]This is where the bills are shown[/b]'
                            font_size: 35
                            text_size: self.width, None
                            size_hint_y: None
                            height: self.texture_size[1]

            MDRaisedButton:
                id: CreateBill
                markup: True
                text: "[b]Create Bill[/b]"
                pos_hint: {'center_x': 0.7,'center_y': 0.1}
                font_size: 35
                elevation: 0
                on_release: app.CreateBillPopUp()

            MDRaisedButton:
                id: DeleteItem
                markup: True
                text: "[b]Delete Bill[/b]"
                pos_hint: {'center_x': 0.3,'center_y': 0.1}
                font_size: 35
                elevation: 0
                on_release: app.DropDownMenuForDeleting()

            MDRaisedButton:
                id: SelectItem
                markup: True
                text: "[b]Select[/b]"
                pos_hint: {'center_x': 0.2,'center_y': 0.2}
                font_size: 35
                elevation: 0
                on_release: app.DropDownMenuForDisplaying()

            MDRaisedButton:
                id: printAll
                markup: True
                text: "[b]Print All[/b]"
                pos_hint: {'center_x': 0.5,'center_y': 0.2}
                font_size: 35
                elevation: 0
                on_release: app.LoadBills()

            MDRaisedButton:
                id: Clearcard
                markup: True
                text: "[b]Clear[/b]"
                pos_hint: {'center_x': 0.8,'center_y': 0.2}
                font_size: 35
                elevation: 0
                on_release: root.ids.BillContent.text = '[b]This is where the bills are shown[/b]'

        MDBottomNavigationItem:
            name: "Amount"
            text: 'Amount Sold'
            icon: 'cash-multiple'
            
            MDCard:
                orientation: "vertical"
                md_bg_color: 0, 153/250, 1, 255/250
                size_hint: .9, .1
                radius: [15]
                pos_hint: {'center_x': .5,'center_y': .9}

                MDLabel:
                    id: TotalProfit
                    text: ""
                    bold: True
                    color: "#000000"
                    font_size: 45
                    pos_hint: {'center_x': 0.53,'center_y': 0.9}

            MDCard:
                orientation: "vertical"
                md_bg_color: 0, 153/250, 1, 255/250
                size_hint: .6, .3
                radius: [15]
                pos_hint: {'center_x': .5,'center_y': .6}
                padding: 1

                MDFloatLayout:
                    padding: 25

                    MDLabel:
                        id: item
                        text: "Item: None"
                        font_size: 30
                        bold: True
                        pos_hint: {'center_x': 0.55,'center_y': 0.81}

                    MDLabel:
                        id: amount
                        text: "Amount Sold: None"
                        font_size: 30
                        bold: True
                        pos_hint: {'center_x': 0.55,'center_y': 0.62}

                    MDLabel:
                        id: price
                        text: "Price: None"
                        font_size: 30
                        bold: True
                        pos_hint: {'center_x': 0.55,'center_y': 0.44}

                    MDLabel:
                        id: storage
                        text: "In Storage: None"
                        font_size: 30
                        bold: True
                        pos_hint: {'center_x': 0.55,'center_y': 0.25}
            
            MDRaisedButton:
                id: ChooseItem
                markup: True
                text: "[b]Choose Item[/b]"
                font_size: 35
                pos_hint: {'center_x': 0.5,'center_y': 0.35}
                elevation: 0
                on_release: app.DisplayItem()

        MDBottomNavigationItem:
            name: "Tasks"
            text: 'Tasks'
            icon: 'clipboard-list'

            MDLabel:
                id: tasksLabel
                markup: True
                text: '[b]My Tasks:[/b]'
                font_size: 60
                pos_hint: {'center_x': 0.55,'center_y': 0.9}

            MDSwiper:
                id: TaskSwiper
                size_hint_y: None
                height: dp(350)
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                y: root.height - dp(20)

            MDFloatingActionButton:
                icon: 'plus'
                pos_hint: {'center_x': 0.87,'center_y': 0.067}
                elevation: 0
                on_press: app.AddSwiperItem()
